{%- if page.title != page.data.path -%}
    {%- capture page_title -%}{{page.title | xml_escape }} <small>({{ page.data.path | xml_escape }})</small>{%- endcapture -%}
{%- else -%}
    {%- capture page_title -%}{{page.data.path | xml_escape }}{%- endcapture -%}
{%- endif -%}
<h1>{{ site.icons[page.data.verificationStatus] }} {{ page_title | xml_escape }}</h1>

<ul>
    <li><a href="{{ site.github.repository_url }}/blob/{{ site.branch_name | default: "HEAD" }}/{{ site.basedir }}{{ page.data.path }}">View this file on GitHub</a></li>
    {% if page.data.documentPath %}
    <li><a href="{{ site.github.repository_url }}/blob/{{ site.branch_name | default: "HEAD" }}/{{ site.basedir }}{{ page.data.documentPath }}">View document part on GitHub</a></li>
    {%- endif -%}
    <li>Last update: {{ page.data.timestamp }}</li>
    {% if page.data.attributes.PROBLEM %}
    <li>Problem: <a href="{{ page.data.attributes.PROBLEM }}">{{ page.data.attributes.PROBLEM | xml_escape }}</a></li>
    {%- endif -%}
    {% if page.data.pathExtension == "hpp" %}<li><a id="include-directive-anchor">Include: <code id="include-directive-code">#include "{{ page.data.path }}"</code></a></li>{%- endif -%}
    {% if page.data.isFailed %}<li>Link: <a href="{{ site.github.repository_url }}/actions">{{ site.icons[page.data.verificationStatus] }} View error logs on GitHub Actions</a></li>{%- endif -%}
    {%- for link in page.data.attributes.links -%}
    {%- if link != page.data.attributes.PROBLEM -%}
    <li>Link: <a href="{{ link | xml_escape }}">{{ link | xml_escape }}</a></li>
    {%- endif -%}
    {%- endfor -%}
</ul>

{% if page.data.pathExtension == "hpp" %}
<script defer type="text/javascript">
    // make the include directive clickable
    (function() {
        const anchor = document.getElementById('include-directive-anchor');
        const code = document.getElementById('include-directive-code');
        anchor.addEventListener('click', async function() {
            const textContent = code.textContent;
            navigator.clipboard.writeText(textContent)

            code.textContent = "Copied!";
            await new Promise(r => setTimeout(r, 300))
            code.textContent = textContent;
        });
    })();
</script>
{%- endif -%}
